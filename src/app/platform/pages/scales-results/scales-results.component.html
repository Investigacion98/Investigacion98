<app-filtro></app-filtro>
<div class="container-results-students">
    <h2>Resultados</h2>
    <div *ngIf="!activateGraph && !activateExcel" class="container-list-data">
        <div class="one">
            <label>Nombre</label>
        </div>
        <div  class="two">
            <label>Institución</label>
        </div>
        <div class="three">
            <label>Grado</label>
        </div>
        <div class="four">
            <label>Escalas</label>
        </div>
    </div>
    <app-result-student class="student-result" *ngFor="let studentResult of studentResults" 
        [data]="studentResult" [scales]="scales" [typesOfQUalification]="typesOfQUalification"></app-result-student>
    <div *ngIf="activateResume" class="latest">
        <div class="resume">
            <h3>Institución</h3>
            <div *ngFor="let scale of scales;let i=index">
                &#10148; Media {{scale.title}} {{'---- '+totalAverageScale[i]}}
                <label class="label-info-factor" *ngIf="scale.factors.lenght>0">Media por factor:</label>
                <ul class="list-items-factors">
                    <li *ngFor="let factor of scale.factors,let j=index">{{factor}}: {{factorsScales[i][j]}}</li>
                </ul>
            </div>
        </div>
    </div>
    <div *ngIf="activateResume" class="latest">
        <div class="resume">
            <h3>Resumen</h3>
            <div *ngFor="let scale of scales;let i=index">
                &#10148; Media {{scale.title}} {{'---- '+totalAverageScale[i]}}
                <label class="label-info-factor" *ngIf="scale.factors.lenght>0">Media por factor:</label>
                <ul class="list-items-factors">
                    <li *ngFor="let factor of scale.factors,let j=index">{{factor}}: {{factorsScales[i][j]}}</li>
                </ul>
            </div>
        </div>
    </div>
</div>
<div class="container-button-send">
    <button *ngIf="activateButtons" class="button-send download" (click)="download()"><mat-icon>cloud_download</mat-icon></button>
    <button *ngIf="activateButtons" class="button-send graph" (click)="graph()"><mat-icon>bar_chart</mat-icon></button>
    <button class="button-send" (click)="buttonSend()" (contextmenu)="buttonRight($event)">&#10095;</button>
</div>
<div *ngIf="activateExcel" class="container-graph">
    <h3>Generar archivo de excel</h3>
    <app-excel [data]="studentsResultsAux" [scales]="scales" [typesOfQUalification]="typesOfQUalification"></app-excel>
</div>
<div *ngIf="activateGraph" class="container-graph">
    <h3>Gráfica</h3>
    <div>asdf</div>
</div>
<div *ngIf="loading" class="container-graph color-transparent">
    <mat-spinner></mat-spinner>
</div>